{"ast":null,"code":"var _jsxFileName = \"/Users/ifeyinwakanu/side_projects/fashionApp/fashion_FE/src/containers/bookings/BookingEditFormContainer.js\";\nimport React, { Component } from 'react';\nimport Request from '../../helpers/request';\nimport BookingEditForm from './BookingEditForm.js';\n\nclass BookingEditFormContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      booking: null,\n      customers: null,\n      measurements: null,\n      tailors: null,\n      fabrics: null,\n      styles: null\n    };\n    this.handleBookingEdit = this.handleBookingEdit.bind(this);\n  }\n\n  //Function to get data from the backend and confirm it is mounted at the state level of this container.\n  componentDidMount() {\n    const request = new Request();\n    request.get(\"/api/bookings/\" + this.props.id + \"?projection=embedded\").then(booking => {\n      this.setState({\n        booking: booking\n      });\n    });\n    request.get(\"/api/customers\").then(data => {\n      console.log(data._embedded.customers);\n      this.setState({\n        customers: data._embedded.customers\n      });\n    });\n    request.get(\"/api/measurements\").then(data => {\n      this.setState({\n        measurements: data._embedded.measurements\n      });\n    });\n    request.get(\"/api/tailors\").then(data => {\n      this.setState({\n        tailors: data._embedded.tailors\n      });\n    });\n    request.get(\"/api/fabrics\").then(data => {\n      this.setState({\n        fabrics: data._embedded.fabrics\n      });\n    });\n    request.get(\"/api/styles\").then(data => {\n      this.setState({\n        styles: data._embedded.styles\n      });\n    });\n  } //this function handlesthe edit and passes it to the component to effect change in database. Used patch for this function.\n\n\n  handleBookingEdit(booking) {\n    const request = new Request();\n    request.patch('/api/bookings/' + this.props.id, booking).then(() => {\n      window.location = '/bookings/' + this.props.id;\n    });\n  }\n\n  render() {\n    console.log(this.state.customers);\n\n    if (!this.state.booking || !this.state.customers || !this.state.measurements || !this.state.tailors || !this.state.fabrics || !this.state.styles) {\n      return React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"page loading\");\n    } //passes data down to the component for rendering purpose. Also, a fuction passed from the component to handle data edit (update)\n\n\n    return React.createElement(BookingEditForm, {\n      booking: this.state.booking,\n      customers: this.state.customers,\n      measurements: this.state.measurements,\n      tailors: this.state.tailors,\n      fabrics: this.state.fabrics,\n      styles: this.state.styles,\n      handleBookingEdit: this.handleBookingEdit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default BookingEditFormContainer;","map":{"version":3,"sources":["/Users/ifeyinwakanu/side_projects/fashionApp/fashion_FE/src/containers/bookings/BookingEditFormContainer.js"],"names":["React","Component","Request","BookingEditForm","BookingEditFormContainer","constructor","props","state","booking","customers","measurements","tailors","fabrics","styles","handleBookingEdit","bind","componentDidMount","request","get","id","then","setState","data","console","log","_embedded","patch","window","location","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Request from '../../helpers/request';\nimport BookingEditForm from './BookingEditForm.js';\n\nclass BookingEditFormContainer extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n            booking: null,\n            customers: null,\n            measurements: null,\n            tailors: null,\n            fabrics: null,\n            styles: null,\n        };\n        this.handleBookingEdit = this.handleBookingEdit.bind(this);\n\n    };\n\n    //Function to get data from the backend and confirm it is mounted at the state level of this container.\n    componentDidMount(){\n        const request = new Request();\n        request.get(\"/api/bookings/\" + this.props.id + \"?projection=embedded\").then((booking) => {\n            this.setState({booking: booking})\n        });\n        request.get(\"/api/customers\").then((data) => {\n            console.log(data._embedded.customers)\n            this.setState({customers: data._embedded.customers})\n        })\n        request.get(\"/api/measurements\").then((data) => {\n            this.setState({measurements: data._embedded.measurements})\n        })\n        request.get(\"/api/tailors\").then((data) => {\n            this.setState({tailors: data._embedded.tailors})\n        })\n        request.get(\"/api/fabrics\").then((data) => {\n            this.setState({fabrics: data._embedded.fabrics})\n        })\n        request.get(\"/api/styles\").then((data) => {\n            this.setState({styles: data._embedded.styles})\n        })\n    }\n    //this function handlesthe edit and passes it to the component to effect change in database. Used patch for this function.\n\n    handleBookingEdit(booking){\n        const request = new Request();\n        request.patch('/api/bookings/'+ this.props.id, booking).then(() => {\n            window.location = '/bookings/' + this.props.id\n        })\n    }\n\n    render(){\n        console.log(this.state.customers)\n        if (!this.state.booking || !this.state.customers || !this.state.measurements || !this.state.tailors || !this.state.fabrics || !this.state.styles){\n            return <h2>page loading</h2>;\n        }\n        //passes data down to the component for rendering purpose. Also, a fuction passed from the component to handle data edit (update)\n        return <BookingEditForm booking = {this.state.booking} customers = {this.state.customers} measurements = {this.state.measurements} tailors = {this.state.tailors} fabrics = {this.state.fabrics} styles = {this.state.styles} handleBookingEdit = {this.handleBookingEdit} />\n\n    }\n    \n}\n\nexport default BookingEditFormContainer;\n"]},"metadata":{},"sourceType":"module"}