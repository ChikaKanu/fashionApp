{"ast":null,"code":"var _jsxFileName = \"/Users/ifeyinwakanu/side_projects/fashionApp/fashion_FE/src/containers/bookings/BookingEditFormContainer.js\";\nimport React, { Component } from 'react';\nimport Request from '../../helpers/request';\nimport BookingEditForm from '../../components/bookings/BookingEditForm.js';\n\nclass BookingEditFormContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      booking: null,\n      customers: null,\n      measurements: null,\n      tailors: null,\n      fabrics: null,\n      styles: null\n    };\n    this.handleBookingEdit = this.handleBookingEdit.bind(this);\n  }\n\n  //Function to get data from the backend and confirm it is mounted at the state level of this container.\n  componentDidMount() {\n    const request = new Request();\n    request.get(\"/api/bookings\" + this.props.id + \"?projection=embedded\").then(booking => {\n      console.log({\n        booking\n      });\n      this.setState({\n        booking: booking\n      });\n    });\n    request.get(\"/api/customers\").then(customers => {\n      this.setState({\n        customers: customers._embedded.customers\n      });\n    });\n    request.get(\"/api/measurements\").then(measurements => {\n      this.setState({\n        measurements: measurements._embedded.measurements\n      });\n    });\n    request.get(\"/api/tailors\").then(tailors => {\n      this.setState({\n        tailors: tailors._embedded.tailors\n      });\n    });\n    request.get(\"/api/fabrics\").then(fabrics => {\n      this.setState({\n        fabrics: fabrics._embedded.fabrics\n      });\n    });\n    request.get(\"/api/styles\").then(styles => {\n      this.setState({\n        styles: styles._embedded.styles\n      });\n    });\n  } //this function handlesthe edit and passes it to the compoent to effect change in database. Used patch for this function.\n\n\n  handleBookingPost(booking) {\n    const request = new Request();\n    request.patch(\"/api/bookings/\" + this.props.id, booking).then(() => {\n      window.location = \"/bookings\" + this.props.id;\n    });\n  }\n\n  render() {\n    if (!this.props.bookings || !this.props.customers || !this.props.measurements || !this.props.tailors || !this.props.fabrics || !this.props.styles) {\n      return React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"page loading\");\n    } //passes data down to the component for rendering purpose. Also, a fuction passed from the component to handle data edit (update)\n\n\n    return React.createElement(BookingEditForm, {\n      bookings: this.state.bookings,\n      customers: this.state.customers,\n      measurements: this.state.measurements,\n      tailors: this.state.tailors,\n      fabrics: this.state.fabrics,\n      styles: this.state.styles,\n      handleBookingEdit: this.handleBookingPost,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default BookingEditFormContainer;","map":{"version":3,"sources":["/Users/ifeyinwakanu/side_projects/fashionApp/fashion_FE/src/containers/bookings/BookingEditFormContainer.js"],"names":["React","Component","Request","BookingEditForm","BookingEditFormContainer","constructor","props","state","booking","customers","measurements","tailors","fabrics","styles","handleBookingEdit","bind","componentDidMount","request","get","id","then","console","log","setState","_embedded","handleBookingPost","patch","window","location","render","bookings"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,eAAP,MAA4B,8CAA5B;;AAEA,MAAMC,wBAAN,SAAuCH,SAAvC,CAAgD;AAC5CI,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACPC,MAAAA,OAAO,EAAE,IADF;AAEPC,MAAAA,SAAS,EAAE,IAFJ;AAGPC,MAAAA,YAAY,EAAE,IAHP;AAIPC,MAAAA,OAAO,EAAE,IAJF;AAKPC,MAAAA,OAAO,EAAE,IALF;AAMPC,MAAAA,MAAM,EAAE;AAND,KAAX;AAQA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AAEH;;AAED;AACAC,EAAAA,iBAAiB,GAAE;AACf,UAAMC,OAAO,GAAG,IAAIf,OAAJ,EAAhB;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkB,KAAKZ,KAAL,CAAWa,EAA7B,GAAkC,sBAA9C,EAAsEC,IAAtE,CAA4EZ,OAAD,IAAa;AACpFa,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACd,QAAAA;AAAD,OAAZ;AACA,WAAKe,QAAL,CAAc;AAACf,QAAAA,OAAO,EAAEA;AAAV,OAAd;AACH,KAHD;AAIAS,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BE,IAA9B,CAAoCX,SAAD,IAAe;AAC9C,WAAKc,QAAL,CAAc;AAACd,QAAAA,SAAS,EAAEA,SAAS,CAACe,SAAV,CAAoBf;AAAhC,OAAd;AACH,KAFD;AAGAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCE,IAAjC,CAAuCV,YAAD,IAAkB;AACpD,WAAKa,QAAL,CAAc;AAACb,QAAAA,YAAY,EAAEA,YAAY,CAACc,SAAb,CAAuBd;AAAtC,OAAd;AACH,KAFD;AAGAO,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BE,IAA5B,CAAkCT,OAAD,IAAa;AAC1C,WAAKY,QAAL,CAAc;AAACZ,QAAAA,OAAO,EAAEA,OAAO,CAACa,SAAR,CAAkBb;AAA5B,OAAd;AACH,KAFD;AAGAM,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BE,IAA5B,CAAkCR,OAAD,IAAa;AAC1C,WAAKW,QAAL,CAAc;AAACX,QAAAA,OAAO,EAAEA,OAAO,CAACY,SAAR,CAAkBZ;AAA5B,OAAd;AACH,KAFD;AAGAK,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BE,IAA3B,CAAiCP,MAAD,IAAY;AACxC,WAAKU,QAAL,CAAc;AAACV,QAAAA,MAAM,EAAEA,MAAM,CAACW,SAAP,CAAiBX;AAA1B,OAAd;AACH,KAFD;AAGH,GArC2C,CAsC5C;;;AACAY,EAAAA,iBAAiB,CAACjB,OAAD,EAAS;AACtB,UAAMS,OAAO,GAAG,IAAIf,OAAJ,EAAhB;AACAe,IAAAA,OAAO,CAACS,KAAR,CAAc,mBAAkB,KAAKpB,KAAL,CAAWa,EAA3C,EAA+CX,OAA/C,EAAwDY,IAAxD,CAA6D,MAAM;AAC/DO,MAAAA,MAAM,CAACC,QAAP,GAAkB,cAAc,KAAKtB,KAAL,CAAWa,EAA3C;AACH,KAFD;AAGH;;AAEDU,EAAAA,MAAM,GAAE;AACJ,QAAI,CAAC,KAAKvB,KAAL,CAAWwB,QAAZ,IAAwB,CAAC,KAAKxB,KAAL,CAAWG,SAApC,IAAiD,CAAC,KAAKH,KAAL,CAAWI,YAA7D,IAA6E,CAAC,KAAKJ,KAAL,CAAWK,OAAzF,IAAoG,CAAC,KAAKL,KAAL,CAAWM,OAAhH,IAA2H,CAAC,KAAKN,KAAL,CAAWO,MAA3I,EAAkJ;AAC9I,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACH,KAHG,CAIJ;;;AACA,WAAO,oBAAC,eAAD;AAAiB,MAAA,QAAQ,EAAI,KAAKN,KAAL,CAAWuB,QAAxC;AAAkD,MAAA,SAAS,EAAI,KAAKvB,KAAL,CAAWE,SAA1E;AAAqF,MAAA,YAAY,EAAI,KAAKF,KAAL,CAAWG,YAAhH;AAA8H,MAAA,OAAO,EAAI,KAAKH,KAAL,CAAWI,OAApJ;AAA6J,MAAA,OAAO,EAAI,KAAKJ,KAAL,CAAWK,OAAnL;AAA4L,MAAA,MAAM,EAAI,KAAKL,KAAL,CAAWM,MAAjN;AAAyN,MAAA,iBAAiB,EAAI,KAAKY,iBAAnP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAEH;;AArD2C;;AAyDhD,eAAerB,wBAAf","sourcesContent":["import React, {Component} from 'react';\nimport Request from '../../helpers/request';\nimport BookingEditForm from '../../components/bookings/BookingEditForm.js';\n\nclass BookingEditFormContainer extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n            booking: null,\n            customers: null,\n            measurements: null,\n            tailors: null,\n            fabrics: null,\n            styles: null,\n        };\n        this.handleBookingEdit = this.handleBookingEdit.bind(this);\n\n    };\n\n    //Function to get data from the backend and confirm it is mounted at the state level of this container.\n    componentDidMount(){\n        const request = new Request();\n        request.get(\"/api/bookings\" + this.props.id + \"?projection=embedded\").then((booking) => {\n            console.log({booking})\n            this.setState({booking: booking})\n        });\n        request.get(\"/api/customers\").then((customers) => {\n            this.setState({customers: customers._embedded.customers})\n        })\n        request.get(\"/api/measurements\").then((measurements) => {\n            this.setState({measurements: measurements._embedded.measurements})\n        })\n        request.get(\"/api/tailors\").then((tailors) => {\n            this.setState({tailors: tailors._embedded.tailors})\n        })\n        request.get(\"/api/fabrics\").then((fabrics) => {\n            this.setState({fabrics: fabrics._embedded.fabrics})\n        })\n        request.get(\"/api/styles\").then((styles) => {\n            this.setState({styles: styles._embedded.styles})\n        })\n    }\n    //this function handlesthe edit and passes it to the compoent to effect change in database. Used patch for this function.\n    handleBookingPost(booking){\n        const request = new Request();\n        request.patch(\"/api/bookings/\"+ this.props.id, booking).then(() => {\n            window.location = \"/bookings\" + this.props.id\n        })\n    }\n\n    render(){\n        if (!this.props.bookings || !this.props.customers || !this.props.measurements || !this.props.tailors || !this.props.fabrics || !this.props.styles){\n            return <h2>page loading</h2>;\n        }\n        //passes data down to the component for rendering purpose. Also, a fuction passed from the component to handle data edit (update)\n        return <BookingEditForm bookings = {this.state.bookings} customers = {this.state.customers} measurements = {this.state.measurements} tailors = {this.state.tailors} fabrics = {this.state.fabrics} styles = {this.state.styles} handleBookingEdit = {this.handleBookingPost} />\n\n    }\n    \n}\n\nexport default BookingEditFormContainer;\n"]},"metadata":{},"sourceType":"module"}